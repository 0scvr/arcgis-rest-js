<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>

<a href="" class="btn" id="sign-in" role="button">Sign In</a>

<script src="node_modules/@esri/rest-request/dist/umd/bundle.umd.js"></script>
<script src="node_modules/@esri/rest-auth/dist/umd/bundle.umd.js"></script>
<script>
const { request } = esri_rest_esri_rest_request;
const { UserSession } = esri_rest_esri_rest_auth;

var btn = document.getElementById('sign-in');

btn.addEventListener('click', function (e) {
  UserSession.beginOAuth2({
    clientId: "bwQCnqNnTJtOM6ue",
    redirectUri: "http://localhost:8080/post-sign-in.html",
    popup: true,
    portal: "https://www.arcgis.com/sharing/rest"
  }).then((session) => {
    console.log(session);
  }).catch(error => {
    console.log(error);
  });

  e.preventDefault();
});
</script>
</body>
</html>
